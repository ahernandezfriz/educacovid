const container=$("#container"),containerWin=$("#container-right-win"),containerCancelGame=$("#container-right-cancelGame"),containerGame=$("#container-right-game"),containerRules=$("#container-right-rules"),containerRanking=$("#container-right-ranking"),generalDiv=$("div"),generalInput=$("input"),generalButton=$("button"),inputName=$("#name").attr("required",""),msnRequerido=$("msn-requerido");msnRequerido.hide();const question=$("#question"),inputAnswer=$("#answer"),nameShownInDOM=$("h1:nth-child(2)"),circle=$(".circle"),radioAvatarMan=$("#radio-avatar-man"),radioAvatarWoman=$("#radio-avatar-woman"),imageAvatarMan=$("#image-avatar-man"),imageAvatarWoman=$("#image-avatar-woman"),playGameButton=$("#play-game-button"),submitButton=$("#submit-button"),nextButton=$("#next-button"),rankingButton=$("#ranking-button"),endButton=$("#end-button"),playAgainButton=$(".play-again-button"),suceessSound=$(".audio")[0],failSound=$(".audio")[1],cancelGameSound=$(".audio")[2],finishGameSound=$(".audio")[3];$(".low").prop("volume",.5);const score=$("#score"),timer=$("#timer"),guessedWords=$(".guessed-words"),failedWords=$(".failed-words"),finalScore=$(".final-score"),rankingName=$(".ranking-name"),rankingPoints=$(".ranking-points");inputName.focus();let ranking=[],name="",points=0,totalWords=26,i=0,seconds=150,gameIsCancelled=!1,randomQuestions=[];function setUserName(){name=inputName.val(),""===name&&(name="Anonymous"),name=name.charAt(0).toUpperCase()+name.slice(1).toLowerCase(),nameShownInDOM.text(name)}function setAvatar(){radioAvatarMan.prop("checked")?imageAvatarMan.show():imageAvatarWoman.show()}function getRandomArray(i){let allQuestions,index;return[questions,questions2,questions3][Math.floor(3*Math.random())][i]}function setRandomArray(){for(let i=0;i<26;i++)randomQuestions.push(getRandomArray(i))}function startGame(){containerRules.hide(),containerGame.attr("style","display : flex"),inputAnswer.focus(),setUserName(),setAvatar(),setTimer(),setRandomArray(),showQuestion(i)}function validateInput(){i<26&&(randomQuestions[i].userAnswer=inputAnswer.val(),distoggleLetter(i),checkAnswer(i),i++,continuePlaying(i))}function toggleLetter(i){i<26&&$("#"+randomQuestions[i].letter).fadeToggle("slow",(function(){toggleLetter(i)}))}function distoggleLetter(i){i<26&&$("#"+randomQuestions[i].letter).stop().css("opacity","1")}function showQuestion(i){toggleLetter(i),question.text(randomQuestions[i].question)}function checkAnswer(i){randomQuestions[i].userAnswer.toUpperCase()===randomQuestions[i].answer.toUpperCase()?(randomQuestions[i].status=!0,totalWords--,suceessSound.play(),$("#"+randomQuestions[i].letter).addClass("green"),setPoints()):(randomQuestions[i].status=!1,totalWords--,failSound.play(),$("#"+randomQuestions[i].letter).addClass("red"))}function setPoints(){points+=1,score.text(points)}function moveToNextQuestion(i){let cutNextQuestion=randomQuestions.splice(i,1)[0];randomQuestions.push(cutNextQuestion)}function continuePlaying(i){0!==totalWords&&(inputAnswer.val(""),showQuestion(i))}function endGame(){containerGame.hide(),containerWin.attr("style","display : flex"),finalScore.text(points),failedWords.text(26-points),guessedWords.text(points),generalButton.focus(),distoggleLetter(i),finishGameSound.play()}function setTimer(){var callbackFunction=function(){timeoutId=setTimeout(callbackFunction,1e3),seconds-=1,timer.text(seconds),gameIsCancelled?(seconds=0,clearTimeout(timeoutId),cancelGame()):(seconds<=0||0===totalWords)&&(clearTimeout(timeoutId),endGame(),setRanking())},timeoutId=setTimeout(callbackFunction)}function initializeVariables(){randomQuestions=[],name="",points=0,totalWords=26,i=0,seconds=150,gameIsCancelled=!1,generalDiv.removeClass("red"),generalDiv.removeClass("green"),generalInput.val(""),inputName.text(""),score.text(points),timer.text(seconds),nameShownInDOM.text(name),imageAvatarMan.hide(),imageAvatarWoman.hide()}function playAgain(){initializeVariables(),containerWin.hide(),containerGame.hide(),containerCancelGame.hide(),containerRanking.hide(),containerRules.show(),container.show(),inputName.focus()}function cancelGame(){cancelGameSound.play(),gameIsCancelled=!0,containerGame.hide(),containerCancelGame.attr("style","display : flex"),finalScore.text(points),failedWords.text(26-points),guessedWords.text(points),distoggleLetter(i),generalInput.focus()}function setRanking(){ranking.push({name:name,points:points}),ranking.sort((a,b)=>b.points-a.points),ranking.length>10&&ranking.pop()}function showRanking(){containerWin.hide(),containerRanking.attr("style","display : flex");for(let i in ranking)rankingName[i].textContent=ranking[i].name,rankingPoints[i].textContent=ranking[i].points;generalButton.focus()}inputName.keypress((function(e){13==e.which&&startGame()})),playGameButton.click(startGame),inputAnswer.keypress((function(e){13==e.which&&validateInput()})),submitButton.click((function(e){validateInput()})),nextButton.click((function(){distoggleLetter(i),moveToNextQuestion(i),continuePlaying(i)})),playAgainButton.click(playAgain),endButton.click(cancelGame),rankingButton.click(showRanking);