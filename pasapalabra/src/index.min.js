let ranking=[],name="",points=0,totalWords=26,i=0,seconds=180,gameIsCancelled=!1,click=!1;function startGame(){if(0!=inputName.val().length)return inputName.val().length<=3?($("#msn-requerido").html(""),void $("#msn-text-min").html("Ingrese minimo 3 letras")):0==fileInput.val().length?($("#msn-text-min").html(""),void $("#msn-file").html("Seleccione un archivo")):void(!1!==abcCompleto?2==nComas?(startGameDom(),setUserName(),setAvatar(),setTimer(),showQuestion(i)):$("#msn-file").html("Revise su archivo, puede estar mal configurado"):$("#msn-file").html("Revise su archivo, puede estar incompleto"));$("#msn-requerido").html("Ingrese su nombre")}function validarCamposInicio(){console.log("hola")}function validateInput(){i<26&&(randomQuestions[i].userAnswer=getInputAnswerDom(),distoggleLetter(i),checkAnswer(i),i++,continuePlaying(i))}function checkAnswer(i){randomQuestions[i].userAnswer.toUpperCase()===randomQuestions[i].answer.toUpperCase()?(randomQuestions[i].status=!0,totalWords--,answerIsCorrectDom(i),setPoints()):(randomQuestions[i].status=!1,totalWords--,answerIsWrongDom(i))}function setPoints(){points+=1,showPointsDom(points)}function moveToNextQuestion(i){let cutNextQuestion=randomQuestions.splice(i,1)[0];randomQuestions.push(cutNextQuestion)}function continuePlaying(i){0!==totalWords&&continuePlayingDom(i)}function nextButtonBehavior(){distoggleLetter(i),moveToNextQuestion(i),continuePlaying(i),inputAnswer.focus()}function pausar(){!0===click?($(this).removeClass("pausar"),$(this).addClass("reiniciar"),$(this).html("<i class='bi bi-pause-btn'></i> PAUSAR"),$(this).prop("title","Pausar"),$("#submit-button").prop("disabled",!1),$("#next-button").prop("disabled",!1),$("#end-button").prop("disabled",!1),$("#answer").prop("disabled",!1),$("#answer").focus(),click=!1,setTimer()):($(this).removeClass("reiniciar"),$(this).addClass("pausar"),$(this).html("<i class='bi bi-play-btn-fill'></i> REINICIAR"),$(this).prop("title","Reiniciar"),$("#submit-button").prop("disabled",!0),$("#next-button").prop("disabled",!0),$("#end-button").prop("disabled",!0),$("#answer").prop("disabled",!0),click=!0)}function setTimer(){var callbackFunction=function(){!1===click?(timeoutId=setTimeout(callbackFunction,1e3),seconds-=1,showTimerInDom(seconds),gameIsCancelled?(seconds=0,clearTimeout(timeoutId),cancelGameDom()):(seconds<=0||0===totalWords)&&(clearTimeout(timeoutId),endGameDom(),setRanking())):clearInterval(timeoutId)},timeoutId=setTimeout(callbackFunction)}function initializeVariables(){randomQuestions=[],name="",points=0,totalWords=26,i=0,seconds=150,gameIsCancelled=!1,resetDom()}function playAgain(){initializeVariables(),playAgainDom(),fileInput.val("")}function setRanking(){ranking.push({name:name,points:points}),ranking.sort((a,b)=>b.points-a.points),ranking.length>10&&ranking.pop()}pausa.click(pausar),playGameDomEvent(startGame),validateInputDomEvent(validateInput),nextButtonDomEvent(nextButtonBehavior),playAgainDomEvent(playAgain),endDomEvent(cancelGameDom),rankingDomEvent(showRankingDom),$((function(){$("#btnExportar").click((function(){$("#ranking-table").tableExport()}))}));